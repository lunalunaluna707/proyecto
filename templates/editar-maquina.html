<!DOCTYPE html>
<html lang="en">
<head>
  <title>Formulario de maquinas</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  


  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
<style>
  body{
    background-color:#ffcc00;
  }
  #contenedor{
    background-color: rgb(255, 255, 255);
    
  }
  .input-group {
      margin-bottom: 10px;
    }
    .input-group-text {
      background-color: #f8f9fa;
      border: 1px solid #ced4da;
    }
    .form-control {
      border-radius: 0.25rem;
    }
</style>
</head>
<body>

<div class="container p-5 my-5 border" id="contenedor" name="contenedor">
  <h2>Formulario de maquinas</h2>
  {% if message %}
    {% if 'No se pudo conectar' in message or 'No se encontro registro' in message %}
      <p class="alert alert-danger"> {{ message }}</p>
    {% else %}
      <p class="alert alert-success"> {{ message }}</p>
    {% endif %}
  {% endif %}
  <form id="maquinaform"action="{{ url_for('actualizarmaquina', id=registros[0][0]) }}" method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="nombreApellido">Ingresa el nombre de la maquina:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-tools"></i> </span>
        <input type="text" class="form-control" id="txtnombremaquina" value="{{registros[0][1]}}" name="txtnombremaquina" required>
      </div>
    </div>
    <div class="mb-3">
      <label for="maquina">Ingresa placa:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-card-checklist"></i></span>
        <input type="text" class="form-control" id="txtplaca" value="{{registros[0][2]}}" name="txtplaca" required>
      </div>
    </div>
    <div class="mb-3">
      <label for="maquina">Ingresa linea:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-file-earmark-text"></i></span>
        <input type="text" class="form-control" id="txtlinea" value="{{registros[0][3]}}" name="txtlinea" required>
      </div>
    </div>

    <div class="mb-3">
      <label for="maquina">Ingresa marca de la máquina:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-layers"></i></span>
        <input type="text" class="form-control" id="txtmarca" name="txtmarca" value="{{registros[0][4]}}" required>
      </div>
    </div>
    <div class="mb-3">
      <label for="maquina">Ingresa modelo de la máquina:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-gear-wide-connected"></i></span>
        <input type="text" class="form-control" id="txtmodelo" name="txtmodelo" value="{{registros[0][5]}}" required>
      </div>
    </div>

    <div class="mb-3">
      <label for="maquina">Ingresa la serie:</label>
      <div class="input-group">
        <span class="input-group-text"><i class="bi bi-gear"></i></span>
        <input type="text" class="form-control" id="txtserie" name="txtserie" value="{{registros[0][6]}}" required>
      </div>
    </div>

    <div class="form-group">
      <label for="imagen">Subir nueva imagen:</label>
      {% if registros[0]['Imagen'] %}
          <img src="{{ url_for('static', filename='imagenes/' + registros[0]['Imagen']) }}" alt="Imagen actual" width="150">
      {% endif %}
      <input type="file" class="form-control" name="imagen" id="imagen">
  </div><br>
 

    
    <button type="submit" id="btnenviar" name="btnenviar" class="btn btn-warning "  >Editar</button>
  </form><br>

</div>
<script>
    $(document).ready(function() {
  $("#maquinaform").validate({
    rules: {
      txtnombremaquina : {
        required: true,
        minlength: 1,
        maxlength:50
      },
      txtmodelo: {
        required: true,
        minlength: 1,
        maxlength:50
      },
      txtserie: {
        required: true,
        minlength: 1,
        maxlength:50
      },
      txtlinea: {
        required: true,
        minlength: 1,
        maxlength:50
      },
      txtmarca: {
        required: true,
        minlength: 1,
        maxlength:50
      },
      txtplaca: {
        required: true,
        minlength: 1,
        maxlength:50
      },
   
   
    },
    messages : {
      txtnombremaquina: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracteres",
        maxlength:"Requiere ingresar maximo 50 caracteres"
        
      },
      txtmodelo: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracter",
        maxlength:"Requiere ingresar maximo 50 caracteres"
      },
      txtserie: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracter",
        maxlength:"Requiere ingresar maximo 50 caracteres"
      },
      txtmarca: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracter",
        maxlength:"Requiere ingresar maximo 50 caracteres"
      },
      txtlinea: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracter",
        maxlength:"Requiere ingresar maximo 50 caracteres"
      },
      txtplaca: {
        required: "Por favor, llenar campo obligatorio",
        minlength: "Requiere ingresar minimo 1 caracter",
        maxlength:"Requiere ingresar maximo 50 caracteres"
      },
  
    }
  });
});
</script>

</body>
</html>
