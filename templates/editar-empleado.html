<!DOCTYPE html>
<html lang="en">
<head>
  <title>Formulario de empleados</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
<style>
  body{
    background-color:#ffcc00;
  }
  #contenedor{
    background-color: rgb(255, 255, 255);
    
  }
</style>
</head>
<body>

<div class="container p-5 my-5 border" id="contenedor" name="contenedor">
  <h2>Formulario de empleados</h2>
  {% if message %}
    {% if 'No se pudo conectar' in message or 'No se encontro registro' in message %}
      <p class="alert alert-danger"> {{ message }}</p>
    {% else %}
      <p class="alert alert-success"> {{ message }}</p>
    {% endif %}
  {% endif %}
  <form id="empleadoform"action="{{ url_for('actualizarempleado', id=registros[0][0]) }}" method="post">
    <div class="mb-3 mt-3">
      <label >Ingresa el nombre completo:</label>
      <input type="text" class="form-control" id="txtnombre" value="{{registros[0][1]}}"  name="txtnombre" required>
    </div>

    <div class="mb-3">
        <label >Ingresa numero de empleado:</label>
        <input type="text" class="form-control" id="txtnumempleado" value="{{registros[0][2]}}"name="txtnumempleado" required>
      </div>

    <div class="mb-3">
        <label >Ingresa RFC:</label>
        <input type="text" class="form-control" id="txtrfc" value="{{registros[0][7]}}" name="txtrfc" required>
    </div>

    <div class="mb-3">
        <label >Ingresa NSS:</label>
        <input type="text" class="form-control" id="txtnss" name="txtnss" value="{{registros[0][6]}}"required>
      </div>

    <div class="mb-3">
      <label>Ingresa CURP:</label>
      <input type="text" class="form-control" id="txtcurp" name="txtcurp" value="{{registros[0][5]}}"required>
    </div>

    <div class="mb-3">
        <label >Ingresa direccion: </label>
        <input type="text" class="form-control" id="txtdomicilio" name="txtdomicilio" value="{{registros[0][4]}}" required>
    </div>

    <div class="mb-3">
        <label>Ingresa numero telefonico</label>
        <input type="text" class="form-control" id="txttel" name="txttel" value="{{registros[0][3]}}" required>
    </div>
    <div class="mb-3">
        <label>Ingresa correo electronico</label>
        <input type="email" class="form-control" id="txtcorreo" name="txtcorreo" value="{{registros[0][8]}}" required>
    </div>
    
    <button type="submit" id="btnenviar" name="btnenviar" class="btn btn-warning "  >Editar</button>
  </form><br>

</div>
<script>
    $(document).ready(function() {
        $("#empleadoform").validate({
            rules: {
                txtnombre: {
                    required: true,
                    minlength: 3,
                    maxlength: 100
                },
                txtnumempleado: {
                    required: true,
                    digits: true,
                    minlength: 1,
                    maxlength: 10
                },
                txtrfc: {
                    required: true,
                    minlength: 13,
                    maxlength: 13
                },
                txtnss: {
                    required: true,
                    digits: true,
                    minlength: 11,
                    maxlength: 11
                },
                txtcurp: {
                    required: true,
                    minlength: 18,
                    maxlength: 18
                },
                txtdomicilio: {
                    required: true,
                    minlength: 5,
                    maxlength: 150
                },
                txttel: {
                    required: true,
                    digits: true,
                    minlength: 10,
                    maxlength: 10
                },
                txtcorreo: {
                    required: true,
                    email: true
                }
            },
            messages: {
                txtnombre: {
                    required: "Por favor, ingrese el nombre completo.",
                    minlength: "El nombre debe tener al menos 3 caracteres.",
                    maxlength: "El nombre no debe superar los 100 caracteres."
                },
                txtnumempleado: {
                    required: "Por favor, ingrese el número de empleado.",
                    digits: "Solo se permiten números.",
                    minlength: "El número de empleado debe tener al menos 1 dígito.",
                    maxlength: "El número de empleado no debe superar los 10 dígitos."
                },
                txtrfc: {
                    required: "Por favor, ingrese el RFC.",
                    minlength: "El RFC debe tener exactamente 13 caracteres.",
                    maxlength: "El RFC debe tener exactamente 13 caracteres."
                },
                txtnss: {
                    required: "Por favor, ingrese el NSS.",
                    digits: "Solo se permiten números.",
                    minlength: "El NSS debe tener exactamente 11 dígitos.",
                    maxlength: "El NSS debe tener exactamente 11 dígitos."
                },
                txtcurp: {
                    required: "Por favor, ingrese la CURP.",
                    minlength: "La CURP debe tener exactamente 18 caracteres.",
                    maxlength: "La CURP debe tener exactamente 18 caracteres."
                },
                txtdomicilio: {
                    required: "Por favor, ingrese la dirección.",
                    minlength: "La dirección debe tener al menos 5 caracteres.",
                    maxlength: "La dirección no debe superar los 150 caracteres."
                },
                txttel: {
                    required: "Por favor, ingrese el número telefónico.",
                    digits: "Solo se permiten números.",
                    minlength: "El número telefónico debe tener exactamente 10 dígitos.",
                    maxlength: "El número telefónico debe tener exactamente 10 dígitos."
                },
                txtcorreo: {
                    required: "Por favor, ingrese el correo electrónico.",
                    email: "Por favor, ingrese un correo electrónico válido."
                }
            }
        });
    });
</script>


</body>
</html>
